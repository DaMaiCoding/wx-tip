# 重构项目结构与优化开发流程

为了满足“合理的项目结构”及“修改后即验证”的需求，我制定了以下重构计划：

## 1. 项目结构重构
将扁平的文件结构重组为标准的 Electron 项目结构，清晰分离主进程、渲染进程和预加载脚本。

**拟定结构：**
```text
src/
├── main/             # 主进程代码
│   ├── index.js      (原 main.js)
│   └── services/     # 业务逻辑服务
│       └── patcher.js (原 lib/patcher.js)
├── renderer/         # 渲染进程 (UI)
│   ├── index.html
│   ├── index.js      (原 renderer.js)
│   └── styles.css    (从 html 中提取样式)
└── preload/          # 预加载脚本
    └── index.js      (原 preload.js)
```

## 2. 依赖与配置更新
*   **安装 `nodemon`**：作为开发依赖，用于监控文件变化并自动重启应用，实现“修改即运行”的高效开发流。
*   **更新 `package.json`**：
    *   修改入口文件路径 (`main`)。
    *   添加 `dev` 脚本命令。

## 3. 代码适配
*   **修正路径引用**：更新 `main.js` 中对 `index.html`、`preload.js` 和 `patcher.js` 的引用路径。
*   **分离样式**：将 `index.html` 中的 CSS 提取到独立的 `styles.css` 文件中，便于维护。

## 4. 验证与运行
*   执行重构。
*   运行 `npm run dev` 启动应用。
*   通过检查终端输出和进程状态，确保应用在重构后能正常启动且无报错，满足“查看是否生效”的要求。
